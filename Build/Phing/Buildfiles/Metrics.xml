<?xml version="1.0"?>
<project name="Metrics">

	<!-- the taskdef should not be needed... -->
	<taskdef classname="phing.tasks.ext.phpcpd.PHPCPDTask" name="phpcpd" />
	<target name="metrics-phpcpd" description="Run copy-and-paste detection on PHP files">
		<mkdir dir="${project.reportsdir}" />
		<phpcpd>
			<fileset refid="files-php"/>
			<formatter type="pmd" outfile="${project.reportsdir}/cpd.xml"/>
		</phpcpd>
	</target>

	<!-- the taskdef should not be needed... -->
	<taskdef classname="phing.tasks.ext.phpmd.PHPMDTask" name="phpmd" />
	<target name="metrics-phpmd" description="Run mess detection detection on PHP files">
		<mkdir dir="${project.reportsdir}" />
		<phpmd>
			<fileset refid="files-php"/>
			<formatter type="xml" outfile="${project.reportsdir}/pmd.xml"/>
		</phpmd>
	</target>

</project>